<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ£è¯æƒŠå–œ</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
            background: url('https://s2.loli.net/2024/12/10/nwUFcGo9iWVP8bT.png') no-repeat center center fixed;
            background-size: cover;
            color: white;
        }

        h1 {
            margin-top: 20px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
        }

        .tree-container {
            position: relative;
            margin: 0 auto;
            width: 300px;
            height: 500px;
        }

        .tree-hole {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 60px;
            background: #442200;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.5);
            border: 2px solid #663300;
        }

        .tree-hole:hover {
            transform: translateX(-50%) scale(1.1);
            transition: transform 0.3s ease;
        }

        .gift {
            position: absolute;
            width: 40px;
            height: 40px;
            background: red;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
            transition: transform 0.3s ease;
        }

        .gift:hover {
            transform: scale(1.2);
        }

        /* ç¤¼ç‰©ä½ç½® */
        .gift-1 { top: 100px; left: 40px; }
        .gift-2 { top: 150px; left: 120px; }
        .gift-3 { top: 200px; left: 60px; }
        .gift-4 { top: 250px; left: 160px; }
        .gift-5 { top: 300px; left: 90px; }
        .gift-6 { top: 350px; left: 140px; }

        #mute-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px;
            cursor: pointer;
        }

        #mute-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            color: black;
        }
    </style>
</head>
<body>
    <h1>åœ£è¯æ ‘ä¸Šçš„æƒŠå–œ</h1>

    <!-- é™éŸ³æŒ‰é’® -->
    <button id="mute-btn" onclick="toggleMute()">ğŸ”Š</button>

    <!-- èƒŒæ™¯éŸ³ä¹ -->
    <audio id="background-music" loop autoplay>
        <source src="YOUR_MUSIC_URL" type="audio/mp3">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
    </audio>

    <!-- åœ£è¯æ ‘ -->
    <div class="tree-container">
        <!-- æ ‘æ´ -->
        <div class="tree-hole" onclick="leaveMessage()"></div>

        <!-- ç¤¼ç‰© -->
        <div class="gift gift-1" onclick="viewMessage(1)"></div>
        <div class="gift gift-2" onclick="viewMessage(2)"></div>
        <div class="gift gift-3" onclick="viewMessage(3)"></div>
        <div class="gift gift-4" onclick="viewMessage(4)"></div>
        <div class="gift gift-5" onclick="viewMessage(5)"></div>
        <div class="gift gift-6" onclick="viewMessage(6)"></div>
    </div>

  <!-- å¼•å…¥ Firebase JS SDK -->
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js"></script>

<script>
  // åˆå§‹åŒ– Firebase
  const firebaseConfig = {
      apiKey: "ä½ çš„APIå¯†é’¥",
      authDomain: "ä½ çš„é¡¹ç›®ID.firebaseapp.com",
      databaseURL: "https://ä½ çš„é¡¹ç›®ID.firebaseio.com",
      projectId: "ä½ çš„é¡¹ç›®ID",
      storageBucket: "ä½ çš„é¡¹ç›®ID.appspot.com",
      messagingSenderId: "ä½ çš„å‘é€è€…ID",
      appId: "ä½ çš„App ID"
  };

  // ç¡®ä¿å…ˆåˆå§‹åŒ– Firebaseï¼Œå†å®šä¹‰ `db`
  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>

        // é™éŸ³åŠŸèƒ½
        const music = document.getElementById('background-music');
        function toggleMute() {
            if (music.muted) {
                music.muted = false;
                document.getElementById('mute-btn').innerText = 'ğŸ”Š';
            } else {
                music.muted = true;
                document.getElementById('mute-btn').innerText = 'ğŸ”‡';
            }
        }

        // æ ‘æ´ç•™è¨€
        function leaveMessage() {
            window.location.href = 'message.html?gift=tree-hole';
        }

        // æŸ¥çœ‹ç¤¼ç‰©ç•™è¨€
        function viewMessage(giftNumber) {
            db.ref(`messages/gift${giftNumber}`).once('value', (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    alert(`ç¤¼ç‰© ${giftNumber} çš„ç•™è¨€ï¼š${data.message}`);
                } else {
                    alert(`ç¤¼ç‰© ${giftNumber} æš‚æ— ç•™è¨€ã€‚`);
                }
            });
        }
    </script>
</body>
</html>
